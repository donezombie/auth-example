/*! For license information please see 318.d5020f02.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkarcaden_tool_client=self.webpackChunkarcaden_tool_client||[]).push([[318],{4318:function(e,t,l){l.r(t),l.d(t,{default:function(){return ke}});var a=l(3239),r=l(2455),n=l(2791),i=l(9709),s=l(1694),o=l.n(s),c=l(6934),d=l(184);const u=(0,r.Z)((e=>{var t;return{root:{borderRadius:"".concat(null===(t=e.custom)||void 0===t?void 0:t.button.borderRadius,"px !important"),"& > svg":{marginRight:"7px !important"}}}})),h=(0,c.ZP)(i.Z)((e=>{const{variant:t,color:l,theme:a}=e;return"text"===t&&"error"===l?{color:"red"}:{}}));var m=e=>{const{children:t,style:l,secondary:a,className:r,isSmallBtn:n,...i}=e,s=u();return(0,d.jsx)(h,{variant:"contained",sx:{textTransform:"initial",...l},className:o()(s.root,r),...i,children:t})},p=l(8550);const x=(0,l(106).Z)(p.Z)({}),g=e=>(0,d.jsx)(x,{autoComplete:"off",InputProps:{autoComplete:"off"},...e});var f=n.memo(g),b=l(890);const y=e=>(0,d.jsx)(b.Z,{...e});var v=n.memo(y),j=l(5289),Z=l(7123),w=l(9157),C=l(5661),R=l(3400),S=l(8087),N=l(3710),k=l(9569),T=l(2167),D=l(2161),B=l(287),F=l(9841),I=l(6120),V=l(5105),z=l(6937),A=l(6488),H=l(7575),P=l(2704),K=l(9823),_=l(8946),L=l(872),O=l(8264),U=l(2755),W=l(6753);var J={Add:S.Z,ArrowForward:O.Z,Visibility:N.Z,VisibilityOff:k.Z,Search:T.Z,ArrowBack:D.Z,StarRate:B.Z,KeyboardDoubleArrowUp:F.Z,Settings:I.Z,ShieldVerified:V.Z,Gift:z.Z,Logout:A.Z,Help:H.Z,Copy:P.Z,Close:K.Z,Checked:_.Z,CheckedWithoutCircle:L.Z,Ticket:U.Z,Reset:W.Z};var M={Button:m,TextField:f,Typography:v,Dialog:e=>{let{isOpen:t,toggle:l,title:a,content:r,footer:n}=e;return(0,d.jsxs)(j.Z,{open:t,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,d.jsxs)(C.Z,{sx:{fontSize:"1.25rem"},children:[a,(0,d.jsx)(R.Z,{"aria-label":"close",onClick:l,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,d.jsx)(J.Close,{})})]}),(0,d.jsx)(w.Z,{sx:{display:"flex"},children:r}),(0,d.jsx)(Z.Z,{children:n})]})}},G=l(6181),q=l.n(G),E=l(3466);var Q=e=>{const{type:t,label:l,disabled:a,onKeyDown:r,className:i,size:s,fullWidth:o=!1,field:c,form:u,showHidePasswordMode:h,multiline:m,InputProps:p,sx:x,isNumber:g,placeholder:f,...b}=e,{onChange:y,onBlur:v,value:j,name:Z}=c,{errors:w,touched:C}=u||{},[S,N]=(0,n.useState)(!h),k=q()(w,Z),T=q()(C,Z)&&!!k;return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(M.TextField,{fullWidth:o,className:i,onChange:y,onBlur:v,type:h?S?t:"password":t,id:Z,name:Z,label:l,value:j,disabled:a,onKeyDown:r,size:s,error:T,multiline:m,placeholder:f,sx:x,InputProps:{endAdornment:h&&(0,d.jsx)(E.Z,{position:"end",children:(0,d.jsx)(R.Z,{"aria-label":"toggle password visibility",onClick:()=>{N((e=>!e))},onMouseDown:e=>{e.preventDefault()},edge:"end",children:S?(0,d.jsx)(J.VisibilityOff,{}):(0,d.jsx)(J.Visibility,{})})}),...p},helperText:T&&(0,d.jsx)("span",{children:k}),...b})})},X=l(4925),Y=l(3786),$=l(7071),ee=l(8096),te=l(9321),le=l(763);var ae=e=>{const{label:t,disabled:l,className:a,field:r,form:n,afterOnChange:i,options:s,sx:o,fullWidth:c=!0}=e,{onChange:u,onBlur:h,value:m,name:p}=r,{errors:x,touched:g}=n||{},f=(0,le.get)(x,p),b=(0,le.get)(g,p)&&!!f;return(0,d.jsxs)(ee.Z,{fullWidth:c,children:[(0,d.jsx)(X.Z,{id:p,children:t}),(0,d.jsx)(te.Z,{labelId:p,id:p,name:p,value:m,label:t,onChange:e=>{u(e),i&&i(e)},onBlur:h,className:a,disabled:l,sx:o,children:(s||[]).map((e=>(0,d.jsx)(Y.Z,{value:e.value,children:e.label},e.value)))}),b&&(0,d.jsx)($.Z,{children:f})]})},re=l(2506),ne=l(8717),ie=l(9599);var se=new class{upload(e){const t=new FormData;return t.append("file",e),ie.Z.post("/nft/import",t)}getAllNFT(){return ie.Z.get("/nft")}deleteAllNFT(){return ie.Z.post("/nft/delete/all")}};var oe=()=>{const[e,t]=(0,n.useState)([]),[l,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),s=(0,n.useCallback)((()=>new Promise((async(e,l)=>{try{const l=await se.getAllNFT();t(null===l||void 0===l?void 0:l.data),e()}catch(r){i(r),l(r)}}))),[]),o=(0,n.useCallback)((async()=>{await s()}),[s]),c=(0,n.useCallback)((async()=>{try{a(!0),await s(),a(!1)}catch(r){a(!1)}}),[s]);return(0,n.useEffect)((()=>{c()}),[c]),{data:e,loading:l,error:r,refetch:o,refetchWithLoading:c}};var ce=()=>{const[e,t]=(0,n.useState)(!1),[l,a]=(0,n.useState)(!1);return{open:e,toggle:(0,n.useCallback)((()=>{t((e=>!e)),setTimeout((()=>{a((e=>!e))}),500)}),[]),shouldRender:e||l}},de=l(3735),ue=l(8182),he=l(8048),me=l(703),pe=l(2643);const xe="ReactVirtualizedDemo-flexContainer",ge="ReactVirtualizedDemo-tableRow",fe="ReactVirtualizedDemo-tableRowHover",be="ReactVirtualizedDemo-tableCell",ye="ReactVirtualizedDemo-noClick";class ve extends n.PureComponent{constructor(){super(...arguments),this.getRowClassName=e=>{let{index:t}=e;const{onRowClick:l}=this.props;return(0,ue.Z)(ge,xe,{[fe]:-1!==t&&null!=l})},this.cellRenderer=e=>{let{cellData:t,columnIndex:l}=e;const{columns:a,rowHeight:r,onRowClick:n}=this.props;return(0,d.jsx)(he.Z,{component:"div",className:(0,ue.Z)(be,xe,{[ye]:null==n}),variant:"body",style:{height:r},align:null!=l&&a[l].numeric?"right":"left",children:t})},this.headerRenderer=e=>{let{label:t,columnIndex:l}=e;const{headerHeight:a,columns:r}=this.props;return(0,d.jsx)(he.Z,{component:"div",className:(0,ue.Z)(be,xe,ye),variant:"head",style:{height:a},align:r[l].numeric?"right":"left",children:(0,d.jsx)("span",{children:t})})}}render(){const{columns:e,rowHeight:t,headerHeight:l,...a}=this.props;return(0,d.jsx)(pe.qj,{children:r=>{let{height:n,width:i}=r;return(0,d.jsx)(pe.iA,{height:n,width:i,rowHeight:t,gridStyle:{direction:"inherit"},headerHeight:l,...a,rowClassName:this.getRowClassName,children:e.map(((e,t)=>{let{dataKey:l,...a}=e;return(0,d.jsx)(pe.sg,{headerRenderer:e=>this.headerRenderer({...e,columnIndex:t}),className:xe,cellRenderer:this.cellRenderer,dataKey:l,...a},l)}))})}})}}ve.defaultProps={headerHeight:48,rowHeight:48};const je=(0,c.ZP)(ve)((e=>{let{theme:t}=e;return{"& .ReactVirtualized__Table__headerRow":{..."rtl"===t.direction&&{paddingLeft:"0 !important"},..."rtl"!==t.direction&&{paddingRight:void 0}},["& .".concat(xe)]:{display:"flex",alignItems:"center",boxSizing:"border-box"},["& .".concat(ge)]:{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},cursor:"pointer"},["& .".concat(fe)]:{"&:hover":{backgroundColor:"#ccc"}},["& .".concat(be)]:{flex:1},["& .".concat(ye)]:{cursor:"initial"}}}));function Ze(e){let{data:t}=e;return(0,d.jsx)(me.Z,{style:{height:800,width:"100%"},children:(0,d.jsx)(je,{rowCount:t.length,rowGetter:e=>{let{index:l}=e;return t[l]},columns:[{width:200,label:"NFT ID",dataKey:"NFT ID"},{width:400,label:"Name",dataKey:"Name"},{width:500,label:"URL",dataKey:"URL",cellRenderer:function(e){const{cellData:t}=e;return(0,d.jsx)(he.Z,{component:"div",className:(0,ue.Z)(be,xe),variant:"body",style:{height:48},children:(0,d.jsx)("a",{href:t,target:"__blank",children:t})})}},{width:120,label:"Price (USD)",dataKey:"Price (USD)",numeric:!0},{width:120,label:"Tier",dataKey:"Tier",numeric:!0}]})})}const we=(0,r.Z)((e=>({action:{display:"flex",gap:8}})));var Ce=e=>{let{isOpen:t,toggle:l,onSubmit:a}=e;const r=we();return(0,d.jsx)(re.J9,{initialValues:{},onSubmit:(e,t)=>a(e,{...t,toggle:l}),children:e=>{let{handleSubmit:a,isSubmitting:n}=e;return(0,d.jsx)(M.Dialog,{isOpen:t,toggle:l,title:"Confirm delete all NFT",content:(0,d.jsx)(M.Typography,{children:"Are you sure you want to remove all NFT?"}),footer:(0,d.jsxs)("div",{className:r.action,children:[(0,d.jsx)(M.Button,{variant:"outlined",onClick:l,children:"Cancel"}),(0,d.jsx)(M.Button,{type:"submit",color:"error",onClick:()=>a(),loading:n,children:"Remove"})]})})}})};const Re=[{label:"ID",value:"NFT ID"},{label:"Name",value:"Name"}],Se=(0,r.Z)((()=>({form:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12,"& > div":{display:"flex",alignItems:"center",gap:8}},filters:{display:"flex",alignItems:"center",gap:12}}))),Ne={searchBy:Re[0].value,value:""};var ke=()=>{const e=Se(),t=(0,n.useRef)(null),{data:l,loading:r,refetch:i}=oe(),[s,o]=(0,n.useState)(!1),{open:c,toggle:u,shouldRender:h}=ce(),[m,p]=(0,n.useState)(Ne),x=async(e,l)=>{let{resetForm:a}=l;const{fileSheet:r}=e;try{o(!0),await se.upload(r),await i(),a(),t.current.value=null,(0,ne.s)("Uploaded file successfully!"),o(!1)}catch(n){o(!1),(0,ne.x)(n.toString())}},g=(0,n.useMemo)((()=>null!==m&&void 0!==m&&m.value?l.filter((e=>"".concat(e[m.searchBy]).toLowerCase().includes("".concat(m.value).toLowerCase()))):l),[m,l]);return(0,d.jsxs)(de.Z,{children:[h&&(0,d.jsx)(Ce,{isOpen:c,toggle:u,onSubmit:async(e,t)=>{let{toggle:l,setSubmitting:a}=t;try{await se.deleteAllNFT(),await i(),(0,ne.s)("Deleted all NFT successfully!"),l()}catch(r){a(!1),(0,ne.x)(r.toString())}}}),(0,d.jsx)(re.J9,{initialValues:{fileSheet:""},onSubmit:x,children:l=>{let{values:a,setFieldValue:r,handleBlur:n}=l;return(0,d.jsx)(re.l0,{encType:"multipart/form-data",children:(0,d.jsxs)("div",{className:e.form,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{ref:t,name:"fileSheet",type:"file",accept:".xlsx, .xls, .csv",onChange:e=>{r("fileSheet",e.target.files[0])},onBlur:n}),(0,d.jsx)(M.Button,{loading:s,disabled:!a.fileSheet,type:"submit",children:"Upload"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(M.Button,{color:"error",onClick:u,children:"Delete all NFT"})})]})})}}),(0,d.jsx)(re.J9,{initialValues:Ne,onSubmit:e=>{p(e)},children:t=>{let{resetForm:l}=t;return(0,d.jsx)(re.l0,{children:(0,d.jsxs)("div",{className:e.filters,children:[(0,d.jsx)("div",{style:{width:150},children:(0,d.jsx)(re.Rt,{component:ae,name:"searchBy",label:"Search by",options:Re})}),(0,d.jsx)("div",{style:{width:300},children:(0,d.jsx)(re.Rt,{component:Q,name:"value",label:"Input value",fullWidth:!0})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(M.Button,{type:"submit",color:"primary",children:[(0,d.jsx)(J.Search,{})," Search"]}),(0,d.jsxs)(M.Button,{variant:"outline",onClick:()=>{l(),p(Ne)},children:[(0,d.jsx)(J.Reset,{})," Reset"]})]})]})})}}),(0,d.jsx)("div",{style:{marginTop:12},children:r?(0,d.jsx)(a.Z,{size:20}):(0,d.jsx)(Ze,{data:g})})]})}}}]);
//# sourceMappingURL=318.d5020f02.chunk.js.map